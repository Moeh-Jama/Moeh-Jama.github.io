<!DOCTYPE html>
<html>
	<head>
		<title>UCD GPA Calculator</title>
		<meta name="description" content="UCD GPA Calculator. Calculate what your overall GPA will be by the end of Year/Semester."/>
		<link rel="stylesheet" type="text/css" href="main.css">
	</head>
	<body>
		

		<div id="mainWrapper">
			<div id="about">
				<h1>Calculating your Disaster</h1>
				<img src="images/24137855-student-overwhelmed-and-stressed-pointing-gun-to-his-head.jpg" alt="Only way to beat the system" height="300">
				<p>When inputting your results, keep it in the form of Grade #, where
				the # being number of times you got that grade.</p>
				<p>An example can be seen below:<br> A+ 1, B- 3, D 1<br>You need a comma after each grade input, 
					<span style="color:red; text-decoration-line: underline;">!Except the last Input!</span>.</p> 	
			</div>
			<form>
				<input type="text", class='grades' size="100", placeholder="A+ 1, A+ 2, B- 1, C- 1, C+ 2">
				</form>
				<button id="submit" onclick="myFunction()">Calculate GPA</button>
				<div class="Result"></div>

				<div id="helpfulContentBlock">
					<div id="GradeLetterToGPA">
								<table>
									<tr>
										<th>Module Grade</th>
										<th>GP Values</th>
									</tr>
									<tr><td>A+</td><td>4.2</td></tr>
									<tr><td>A</td><td>4.0</td></tr>
									<tr><td>A-</td><td>3.8</td></tr>
									<tr><td>B+</td><td>3.6</td></tr>
									<tr><td>B</td><td>3.4</td></tr>
									<tr><td>B-</td><td>3.2</td></tr>
									<tr><td>C+</td><td>3.0</td></tr>
									<tr><td>C</td><td>2.8</td></tr>
									<tr><td>C-</td><td>2.6</td></tr>
									<tr><td>D+</td><td>2.4</td></tr>
									<tr><td>D</td><td>2.2</td></tr>
									<tr><td>D-</td><td>2.0</td></tr>
									<tr><td>E</td><td>1.6</td></tr>
									<tr><td>F</td><td>1.0</td></tr>
									<tr><td>G</td><td>0.4</td></tr>
									<tr><td>NG</td><td>0.0</td></tr>
								</table>
					</div>
					<div id="moreInformation">
						<p>More information about UCD (general) grading structure can be found in the link below:<br>
						<a href="http://www.ucd.ie/registry/assessment/documents/modular%20grades%20explained%20staff.pdf">Modular Grades Explained</a></p>
						</div>
				</div>

			<foot>
				<p style="text-align: center;">Copyright Â© Mohamed Jama 2019</p>
			</foot>	
		</div>				
		




		<script>
		function myFunction() {
		  var y = document.getElementsByClassName("grades");
		  var grades = ["A+", "A", "A-", "B+", "B", "B-", "C+", "C", "C-", "D+", "D", "D-", "E", "F", "G", "NG"];
		  var values = ["4.2", "4.0", "3.8", "3.6", "3.4", "3.2", "3.0", "2.8", "2.6", "2.4", "2.2", "2.0", "1.6", "1.0", "0.4", "0.0"];
		  var ending = false;
		  var total = y[0].value.split(",");

		  var calc_weight = 0;
		  var total_grades = 0;
		  var str = y[0].value.replace(/\s/g, '');
		  console.log(str+"\nSize: "+str.length);
		  if(str.length > 1){
			for(var i=0; i<total.length; i++){
		  		var num = total[i][total[i].length
		  		-1];
		  		if(num.charCodeAt(0) == 32 || (num.charCodeAt(0) <48 || num.charCodeAt(0)>57)){
		  			total[i][total[i].length-1] = "1";
		  			num = "1";
		  		}
		  		var str = total[i].replace(/\s/g,'');  
		  		str = str.substring(0, str.length-1).toUpperCase();
		  		var grade_value_index = grades.indexOf(str);
		  		var grade_value = parseFloat(values[grade_value_index]);
		  		
		  		total_grades += parseFloat(num);
		  		calc_weight += (grade_value*5)*parseFloat(num);
		  }
		  

		  var output = calc_weight/(total_grades*5)
		  var message = "Your Grade outlook is: ";
		  document.getElementsByClassName("Result")[0].innerHTML = message+output+" GPA";
		  }
		  else if(str.length == 1){
			  alert("You have inputted a single letter/grade value, please write the Module Grade Followed by how many times it occured                                        if you got A+ once write 'A+ 1' if twice 'A+ 2', and so on...");
		  }
		  else{
			  alert("You have not entered anything");
		  }
		  
		}
		</script>

	</body>
</html>